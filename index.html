<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Meteor-ensure by bulldogDevLabs</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Meteor-ensure</h1>
        <p>Meteor package to monitor index and ensure that they are created in a semi-sane manner.</p>

        <p class="view"><a href="https://github.com/bulldogDevLabs/meteor-ensure">View the Project on GitHub <small>bulldogDevLabs/meteor-ensure</small></a></p>


        <ul>
          <li><a href="https://github.com/bulldogDevLabs/meteor-ensure/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/bulldogDevLabs/meteor-ensure/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/bulldogDevLabs/meteor-ensure">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a id="meteor-ensure" class="anchor" href="#meteor-ensure" aria-hidden="true"><span class="octicon octicon-link"></span></a>meteor-ensure</h1>

<p>Meteor package to monitor index and ensure that they are created in a semi-sane manner.</p>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h2>

<h3>
<a id="use-the-package" class="anchor" href="#use-the-package" aria-hidden="true"><span class="octicon octicon-link"></span></a>Use the package</h3>

<ol>
<li>Clone github</li>
<li>link to your meteor app package directory</li>
<li>run meteor install below.</li>
</ol>

<h3>
<a id="meteor" class="anchor" href="#meteor" aria-hidden="true"><span class="octicon octicon-link"></span></a>Meteor</h3>

<div class="highlight highlight-sh"><pre>meteor add bulldogDevLabs:meteor-ensure</pre></div>

<h2>
<a id="description" class="anchor" href="#description" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h2>

<p>If your like me you put off creating your indexes because you knew you had to but didn't get around to doing it.
Then you realize you have all of these publications that need to be examined to determeine the indexes that 
would be of most help.</p>

<p>Meteor-Ensure can help by capturing the find requests and performing appropriate mongo index operations to 
dymanically improve performance. Behind the scenes meteor-ensure records the index history and can also eaisly 
rebuild your indexing scheme. </p>

<p>Meteor-Ensure will continually monitor the find requests to collections in your database. At startup, 
a hook is installed on the find operations. Meteor-ensure suggests indexes based on these selectors. 
A mongodb collection named MeteorEnsure is used to store the suggested indexes that it finds. </p>

<p>You can ignore a suggestion by MeteorEnsure.update() {$set: {ignore:true}}. </p>

<p>Removing the suggestedIndex will also remove the index from the mongodb. </p>

<p>Use the config object to change how automatic you want it to run.</p>

<h2>
<a id="server" class="anchor" href="#server" aria-hidden="true"><span class="octicon octicon-link"></span></a>Server</h2>

<p>Default behavior</p>

<div class="highlight highlight-sh"><pre>MeteorEnsure.config.installHooks = <span class="pl-c1">true</span><span class="pl-k">;</span>              // scan collections and add monitoring hooks
MeteorEnsure.config.ensureAtStartup = <span class="pl-c1">true</span><span class="pl-k">;</span>          // at startup ensure all indexes are created.
MeteorEnsure.config.autoSuggest = <span class="pl-c1">true</span><span class="pl-k">;</span>             // create suggestions when new indexes are found.
MeteorEnsure.config.autoIndex = <span class="pl-c1">true</span><span class="pl-k">;</span>              // create indexes <span class="pl-k">for</span> <span class="pl-smi">new</span> selections.
MeteorEnsure.config.adminRoute = <span class="pl-s"><span class="pl-pds">'</span>/meteor-ensure<span class="pl-pds">'</span></span> // route to ensure admin ui</pre></div>

<h2>
<a id="admin" class="anchor" href="#admin" aria-hidden="true"><span class="octicon octicon-link"></span></a>Admin</h2>

<p>Open '/meteor-ensure' in your Meteor app. This interface allows you to inspect the status of meteor-ensure as well as
change options for the suggested indexes.</p>

<h2>
<a id="kudos" class="anchor" href="#kudos" aria-hidden="true"><span class="octicon octicon-link"></span></a>Kudos</h2>

<ol>
<li>Meteor package allowing Mongo Collection instance lookup by collection name -  <a href="https://github.com/dburles/mongo-collection-instances">https://github.com/dburles/mongo-collection-instances</a>
</li>
<li>Meteor Collection Hooks - <a href="https://github.com/matb33/meteor-collection-hooks">https://github.com/matb33/meteor-collection-hooks</a>
</li>
<li>Iron-Router - <a href="https://github.com/iron-meteor/iron-router">https://github.com/iron-meteor/iron-router</a>
</li>
<li>Meteor - <a href="http://meteor.com">http://meteor.com</a>
</li>
</ol>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/bulldogDevLabs">bulldogDevLabs</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>